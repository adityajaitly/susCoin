<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>susCoin Redeem - Use Your Credits</title>
    <meta name="description" content="Redeem your susCoins for amazing rewards and discounts">
    
    <!-- Tailwind CSS -->
    <link href="/styles/output.css" rel="stylesheet">
    
    <!-- Socket.IO -->
    <script src="/socket.io/socket.io.js"></script>
</head>
<body class="bg-sus-bg text-sus-text font-sans antialiased">
    <!-- Header -->
    <header class="bg-sus-card border-b border-sus-line sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="/dashboard" class="text-2xl font-bold text-sus-primary">üåç susCoin</a>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/dashboard" class="text-sus-muted hover:text-sus-text transition-colors px-3 py-2">Dashboard</a>
                    <a href="/wallet" class="text-sus-muted hover:text-sus-text transition-colors px-3 py-2">Wallet</a>
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-sus-primary rounded-full flex items-center justify-center text-white text-sm font-semibold">
                            <%= user.avatar || user.name.charAt(0).toUpperCase() %>
                        </div>
                        <span class="text-sm font-medium"><%= user.name %></span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Header Section -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-sus-text mb-2">üéÅ Redeem Your Rewards</h1>
            <p class="text-sus-muted">Use your susCoins for amazing rewards and discounts</p>
        </div>

        <!-- Balance Display -->
        <div class="card mb-8">
            <div class="text-center">
                <div class="text-4xl font-bold text-sus-primary mb-2"><%= user.balance || 440 %></div>
                <div class="text-sus-muted text-lg">susCoins Available</div>
            </div>
        </div>

        <!-- Reward Categories -->
        <div class="mb-8">
            <h2 class="text-2xl font-semibold mb-6">üè∑Ô∏è Reward Categories</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="card text-center hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="text-4xl mb-3">üçï</div>
                    <h3 class="font-semibold mb-2">Food & Dining</h3>
                    <p class="text-sm text-sus-muted">Restaurants, cafes, food delivery</p>
                </div>
                <div class="card text-center hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="text-4xl mb-3">üöå</div>
                    <h3 class="font-semibold mb-2">Transport</h3>
                    <p class="text-sm text-sus-muted">Public transport, ride-sharing</p>
                </div>
                <div class="card text-center hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="text-4xl mb-3">‚ö°</div>
                    <h3 class="font-semibold mb-2">Utilities</h3>
                    <p class="text-sm text-sus-muted">Electricity, water, gas bills</p>
                </div>
                <div class="card text-center hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="text-4xl mb-3">üõçÔ∏è</div>
                    <h3 class="font-semibold mb-2">Shopping</h3>
                    <p class="text-sm text-sus-muted">Retail stores, online shopping</p>
                </div>
            </div>
        </div>

        <!-- Featured Rewards -->
        <div class="mb-8">
            <h2 class="text-2xl font-semibold mb-6">‚≠ê Featured Rewards</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Food Voucher -->
                <div class="card hover:shadow-lg transition-shadow">
                    <div class="bg-gradient-to-br from-red-100 to-orange-100 p-6 rounded-t-lg">
                        <div class="text-6xl text-center mb-4">üçï</div>
                        <h3 class="text-xl font-semibold text-center mb-2">Food Voucher</h3>
                        <p class="text-center text-sus-muted">Get 20% off at local restaurants</p>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-2xl font-bold text-sus-primary">100</span>
                            <span class="text-sus-muted">susCoins</span>
                        </div>
                        <button class="btn-primary w-full">Redeem Now</button>
                    </div>
                </div>

                <!-- Transport Pass -->
                <div class="card hover:shadow-lg transition-shadow">
                    <div class="bg-gradient-to-br from-blue-100 to-cyan-100 p-6 rounded-t-lg">
                        <div class="text-6xl text-center mb-4">üöå</div>
                        <h3 class="text-xl font-semibold text-center mb-2">Transport Pass</h3>
                        <p class="text-center text-sus-muted">Free week of public transport</p>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-2xl font-bold text-sus-primary">150</span>
                            <span class="text-sus-muted">susCoins</span>
                        </div>
                        <button class="btn-primary w-full">Redeem Now</button>
                    </div>
                </div>

                <!-- Utility Rebate -->
                <div class="card hover:shadow-lg transition-shadow">
                    <div class="bg-gradient-to-br from-green-100 to-emerald-100 p-6 rounded-t-lg">
                        <div class="text-6xl text-center mb-4">‚ö°</div>
                        <h3 class="text-xl font-semibold text-center mb-2">Utility Rebate</h3>
                        <p class="text-center text-sus-muted">$10 off your electricity bill</p>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-2xl font-bold text-sus-primary">200</span>
                            <span class="text-sus-muted">susCoins</span>
                        </div>
                        <button class="btn-primary w-full">Redeem Now</button>
                    </div>
                </div>

                <!-- Coffee Voucher -->
                <div class="card hover:shadow-lg transition-shadow">
                    <div class="bg-gradient-to-br from-amber-100 to-yellow-100 p-6 rounded-t-lg">
                        <div class="text-6xl text-center mb-4">‚òï</div>
                        <h3 class="text-xl font-semibold text-center mb-2">Coffee Voucher</h3>
                        <p class="text-center text-sus-muted">Free coffee at campus cafes</p>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-2xl font-bold text-sus-primary">50</span>
                            <span class="text-sus-muted">susCoins</span>
                        </div>
                        <button class="btn-primary w-full">Redeem Now</button>
                    </div>
                </div>

                <!-- Shopping Discount -->
                <div class="card hover:shadow-lg transition-shadow">
                    <div class="bg-gradient-to-br from-purple-100 to-pink-100 p-6 rounded-t-lg">
                        <div class="text-6xl text-center mb-4">üõçÔ∏è</div>
                        <h3 class="text-xl font-semibold text-center mb-2">Shopping Discount</h3>
                        <p class="text-center text-sus-muted">15% off at local stores</p>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-2xl font-bold text-sus-primary">75</span>
                            <span class="text-sus-muted">susCoins</span>
                        </div>
                        <button class="btn-primary w-full">Redeem Now</button>
                    </div>
                </div>

                <!-- Education Credit -->
                <div class="card hover:shadow-lg transition-shadow">
                    <div class="bg-gradient-to-br from-indigo-100 to-blue-100 p-6 rounded-t-lg">
                        <div class="text-6xl text-center mb-4">üìö</div>
                        <h3 class="text-xl font-semibold text-center mb-2">Education Credit</h3>
                        <p class="text-center text-sus-muted">$25 off online courses</p>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-2xl font-bold text-sus-primary">300</span>
                            <span class="text-sus-muted">susCoins</span>
                        </div>
                        <button class="btn-primary w-full">Redeem Now</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- How It Works -->
        <div class="card bg-sus-primary/10 border-sus-primary/20">
            <h2 class="text-2xl font-semibold mb-6 text-center">üîÑ How It Works</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="text-center">
                    <div class="text-4xl mb-3">1Ô∏è‚É£</div>
                    <h3 class="font-semibold mb-2">Earn Credits</h3>
                    <p class="text-sus-muted">Complete sustainable activities to earn susCoins</p>
                </div>
                <div class="text-center">
                    <div class="text-4xl mb-3">2Ô∏è‚É£</div>
                    <h3 class="font-semibold mb-2">Choose Rewards</h3>
                    <p class="text-sus-muted">Browse and select from available rewards</p>
                </div>
                <div class="text-center">
                    <div class="text-4xl mb-3">3Ô∏è‚É£</div>
                    <h3 class="font-semibold mb-2">Redeem & Enjoy</h3>
                    <p class="text-sus-muted">Use your credits and enjoy your rewards</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Navigation Footer -->
    <nav class="fixed bottom-0 left-0 right-0 bg-sus-card border-t border-sus-line lg:hidden">
        <div class="flex justify-around py-2">
            <a href="/dashboard" class="flex flex-col items-center p-2 text-sus-muted hover:text-sus-text">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"></path>
                </svg>
                <span class="text-xs mt-1">Dashboard</span>
            </a>
            <a href="/wallet" class="flex flex-col items-center p-2 text-sus-muted hover:text-sus-text">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                </svg>
                <span class="text-xs mt-1">Wallet</span>
            </a>
            <a href="/redeem" class="flex flex-col items-center p-2 text-sus-primary">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path>
                </svg>
                <span class="text-xs mt-1">Redeem</span>
            </a>
        </div>
    </nav>

    <script>
        // Initialize Socket.IO
        const socket = io();
        
        // Track page view
        socket.emit('analytics', { event: 'page_view', data: { page: 'redeem' } });

        // Add click handlers for redeem buttons
        document.querySelectorAll('.btn-primary').forEach(button => {
            button.addEventListener('click', function() {
                const card = this.closest('.card');
                const rewardName = card.querySelector('h3').textContent;
                const cost = card.querySelector('.text-sus-primary').textContent;
                
                alert(`üéâ Successfully redeemed ${rewardName} for ${cost} susCoins! Check your email for details.`);
            });
        });
    </script>
</body>
</html>
